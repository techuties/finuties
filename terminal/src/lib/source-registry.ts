/**
 * Source Registry -- centralized translation table for all free-data sources.
 *
 * Every API data source is described here with human-readable metadata:
 * category, label, colors, geo-type, column definitions, endpoint path, etc.
 * This is the single source of truth consumed by the Global Situation map,
 * dashboard cards, and table views.
 *
 * Community extension contract:
 * - Add new sources only through this registry.
 * - Keep `id` and `endpoint` backwards-compatible once released.
 * - Prefer additive metadata changes to avoid downstream UI breakage.
 */

// ─── Types ──────────────────────────────────────────────────────

export type CategoryId =
  | 'politics' | 'nature' | 'maritime' | 'economy' | 'environment'
  | 'health' | 'demographics' | 'food' | 'development'
  | 'climate' | 'biodiversity' | 'sanctions';
export type GeoType = 'point' | 'centroid' | 'country' | 'none';

export interface ColumnDef {
  key: string;
  label: string;
  type: 'string' | 'number' | 'date' | 'badge';
  /** Unit suffix shown in table header (e.g. "km", "USD"). */
  unit?: string;
  /** If true, column is hidden in compact table views. */
  secondary?: boolean;
}

export interface FilterDef {
  /** Query param name sent to the API. */
  key: string;
  /** Human-readable label for the filter control. */
  label: string;
  type: 'text' | 'select' | 'number' | 'date';
  /** For select type: allowed options. */
  options?: string[];
}

export interface SourceDef {
  id: string;
  category: CategoryId;
  label: string;
  shortLabel: string;
  description: string;
  endpoint: string;
  /** Primary color for map points and UI accents (hex). */
  color: string;
  /** SVG path(s) for a 24x24 icon (stroke-based, no fill). */
  icon: string;
  geoType: GeoType;
  /** Field names for latitude/longitude, or null if geoType is 'none'. */
  latField?: string;
  lonField?: string;
  /** For centroid/country geo: which field holds the country code/name. */
  countryField?: string;
  /** Default API limit. */
  defaultLimit: number;
  /** Default lookback in days (0 = all time). */
  defaultDays: number;
  /** Column definitions for humanized table display. */
  columns: ColumnDef[];
  /** True if source currently has 0 rows / is a placeholder. */
  placeholder?: boolean;
  /** Available query-parameter filters for the explore drill-down. */
  filters?: FilterDef[];
}

export interface CategoryDef {
  id: CategoryId;
  label: string;
  shortLabel: string;
  color: string;
  /** SVG path for category icon. */
  icon: string;
}

// ─── Categories ─────────────────────────────────────────────────

export const CATEGORIES: CategoryDef[] = [
  {
    id: 'politics',
    label: 'Politics & Conflict',
    shortLabel: 'Politics',
    color: '#ef4444',
    icon: '<path stroke-linecap="round" stroke-linejoin="round" d="M3 3v1.5M3 21v-6m0 0 2.77-.693a9 9 0 0 1 6.208.682l.108.054a9 9 0 0 0 6.086.71l3.114-.732a48.524 48.524 0 0 1-.005-10.499l-3.11.732a9 9 0 0 1-6.085-.711l-.108-.054a9 9 0 0 0-6.208-.682L3 4.5M3 15V4.5" />',
  },
  {
    id: 'nature',
    label: 'Nature & Disasters',
    shortLabel: 'Nature',
    color: '#f59e0b',
    icon: '<path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z" />',
  },
  {
    id: 'maritime',
    label: 'Maritime & Fishing',
    shortLabel: 'Maritime',
    color: '#06b6d4',
    icon: '<path stroke-linecap="round" stroke-linejoin="round" d="M8.25 21v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21m0 0h4.5V3.545M12.75 21h7.5V10.75M2.25 21h1.5m18 0h-18M2.25 9l4.5-1.636M18.75 3l-1.5.545m0 6.205 3 1m1.5.5-1.5-.5M6.75 7.364V3h-3v18m3-13.636 10.5-3.819" />',
  },
  {
    id: 'economy',
    label: 'Economy & Trade',
    shortLabel: 'Economy',
    color: '#3b82f6',
    icon: '<path stroke-linecap="round" stroke-linejoin="round" d="M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z" />',
  },
  {
    id: 'environment',
    label: 'Environment & ESG',
    shortLabel: 'Environment',
    color: '#22c55e',
    icon: '<path stroke-linecap="round" stroke-linejoin="round" d="M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582" />',
  },
  {
    id: 'health',
    label: 'Health',
    shortLabel: 'Health',
    color: '#ec4899',
    icon: '<path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z" />',
  },
  {
    id: 'demographics',
    label: 'Demographics',
    shortLabel: 'Demographics',
    color: '#a855f7',
    icon: '<path stroke-linecap="round" stroke-linejoin="round" d="M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z" />',
  },
  {
    id: 'food',
    label: 'Food & Agriculture',
    shortLabel: 'Food',
    color: '#84cc16',
    icon: '<path stroke-linecap="round" stroke-linejoin="round" d="M12 3v17.25m0 0c-1.472 0-2.882.265-4.185.75M12 20.25c1.472 0 2.882.265 4.185.75M18.75 4.97A48.416 48.416 0 0 0 12 4.5c-2.291 0-4.545.16-6.75.47m13.5 0c1.01.143 2.01.317 3 .52m-3-.52 2.62 10.726c.122.499-.106 1.028-.589 1.202a5.988 5.988 0 0 1-2.031.352 5.988 5.988 0 0 1-2.031-.352c-.483-.174-.711-.703-.59-1.202L18.75 4.971Zm-16.5.52c.99-.203 1.99-.377 3-.52m0 0 2.62 10.726c.122.499-.106 1.028-.589 1.202a5.989 5.989 0 0 1-2.031.352 5.989 5.989 0 0 1-2.031-.352c-.483-.174-.711-.703-.59-1.202L5.25 4.971Z" />',
  },
  {
    id: 'development',
    label: 'Development',
    shortLabel: 'Development',
    color: '#14b8a6',
    icon: '<path stroke-linecap="round" stroke-linejoin="round" d="M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5" />',
  },
  {
    id: 'climate',
    label: 'Climate',
    shortLabel: 'Climate',
    color: '#0ea5e9',
    icon: '<path stroke-linecap="round" stroke-linejoin="round" d="M2.25 15a4.5 4.5 0 0 0 4.5 4.5H18a3.75 3.75 0 0 0 1.332-7.257 3 3 0 0 0-3.758-3.848 5.25 5.25 0 0 0-10.233 2.33A4.502 4.502 0 0 0 2.25 15Z" />',
  },
  {
    id: 'biodiversity',
    label: 'Biodiversity',
    shortLabel: 'Biodiversity',
    color: '#10b981',
    icon: '<path stroke-linecap="round" stroke-linejoin="round" d="M15.362 5.214A8.252 8.252 0 0 1 12 21 8.25 8.25 0 0 1 6.038 7.048 8.287 8.287 0 0 0 9 9.602a8.983 8.983 0 0 1 3.361-6.867 8.21 8.21 0 0 0 3 2.48Z" />',
  },
  {
    id: 'sanctions',
    label: 'Sanctions',
    shortLabel: 'Sanctions',
    color: '#f43f5e',
    icon: '<path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m0-10.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.75c0 5.592 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.57-.598-3.75h-.152c-3.196 0-6.1-1.25-8.25-3.286Zm0 13.036h.008v.008H12v-.008Z" />',
  },
];

export const CATEGORY_MAP = new Map<CategoryId, CategoryDef>(CATEGORIES.map((c) => [c.id, c]));

// ─── Sources ────────────────────────────────────────────────────

export const SOURCES: SourceDef[] = [
  // ── Politics & Conflict ──────────────────────────────────────
  {
    id: 'ucdp',
    category: 'politics',
    label: 'UCDP Armed Conflicts',
    shortLabel: 'UCDP',
    description: 'Uppsala Conflict Data Program -- geo-coded political violence events worldwide',
    endpoint: '/api/v1/data/conflicts/ucdp',
    color: '#ef4444',
    icon: '<path stroke-linecap="round" stroke-linejoin="round" d="M15.362 5.214A8.252 8.252 0 0 1 12 21 8.25 8.25 0 0 1 6.038 7.047 8.287 8.287 0 0 0 9 9.601a8.983 8.983 0 0 1 3.361-6.867 8.21 8.21 0 0 0 3 2.48Z" />',
    geoType: 'point',
    latField: 'latitude',
    lonField: 'longitude',
    defaultLimit: 500,
    defaultDays: 365,
    columns: [
      { key: 'date_start', label: 'Date', type: 'date' },
      { key: 'conflict_name', label: 'Conflict', type: 'string' },
      { key: 'country', label: 'Country', type: 'string' },
      { key: 'event_type', label: 'Type', type: 'badge' },
      { key: 'deaths_best', label: 'Deaths', type: 'number' },
      { key: 'side_a', label: 'Side A', type: 'string', secondary: true },
      { key: 'side_b', label: 'Side B', type: 'string', secondary: true },
      { key: 'region', label: 'Region', type: 'string', secondary: true },
    ],
  },
  {
    id: 'ucdp_summary',
    category: 'politics',
    label: 'UCDP Conflict Summaries',
    shortLabel: 'UCDP Summary',
    description: 'State-level conflict metadata with parties and intensity',
    endpoint: '/api/v1/data/conflicts/ucdp/summary',
    color: '#dc2626',
    icon: '<path stroke-linecap="round" stroke-linejoin="round" d="M3.75 12h16.5m-16.5 3.75h16.5M3.75 19.5h16.5M5.625 4.5h12.75a1.875 1.875 0 0 1 0 3.75H5.625a1.875 1.875 0 0 1 0-3.75Z" />',
    geoType: 'none',
    defaultLimit: 200,
    defaultDays: 0,
    columns: [
      { key: 'conflict_name', label: 'Conflict', type: 'string' },
      { key: 'year', label: 'Year', type: 'number' },
      { key: 'type_of_conflict', label: 'Type', type: 'badge' },
      { key: 'location', label: 'Location', type: 'string' },
      { key: 'side_a', label: 'Side A', type: 'string' },
      { key: 'side_b', label: 'Side B', type: 'string' },
      { key: 'intensity_level', label: 'Intensity', type: 'number' },
      { key: 'region', label: 'Region', type: 'string', secondary: true },
    ],
  },
  {
    id: 'acled',
    category: 'politics',
    label: 'ACLED Political Violence',
    shortLabel: 'ACLED',
    description: 'Armed Conflict Location & Event Data -- political violence and protests',
    endpoint: '/api/v1/data/conflicts/acled',
    color: '#f97316',
    icon: '<path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126Z" />',
    geoType: 'point',
    latField: 'latitude',
    lonField: 'longitude',
    defaultLimit: 500,
    defaultDays: 365,
    placeholder: true,
    columns: [
      { key: 'event_date', label: 'Date', type: 'date' },
      { key: 'event_type', label: 'Event Type', type: 'badge' },
      { key: 'country', label: 'Country', type: 'string' },
      { key: 'actor1', label: 'Actor 1', type: 'string' },
      { key: 'actor2', label: 'Actor 2', type: 'string', secondary: true },
      { key: 'fatalities', label: 'Fatalities', type: 'number' },
      { key: 'admin1', label: 'Region', type: 'string', secondary: true },
    ],
  },
  {
    id: 'gdelt',
    category: 'politics',
    label: 'GDELT Geopolitical Events',
    shortLabel: 'GDELT',
    description: 'Global Database of Events, Language, and Tone -- CAMEO-coded interactions',
    endpoint: '/api/v1/data/conflicts/gdelt',
    color: '#f59e0b',
    icon: '<path stroke-linecap="round" stroke-linejoin="round" d="M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3" />',
    geoType: 'centroid',
    countryField: 'actor1_country',
    defaultLimit: 300,
    defaultDays: 365,
    columns: [
      { key: 'event_date', label: 'Date', type: 'date' },
      { key: 'actor1_name', label: 'Actor 1', type: 'string' },
      { key: 'actor1_country', label: 'Country 1', type: 'string' },
      { key: 'actor2_name', label: 'Actor 2', type: 'string' },
      { key: 'quad_class', label: 'Class', type: 'badge' },
      { key: 'goldstein_scale', label: 'Goldstein', type: 'number' },
      { key: 'num_mentions', label: 'Mentions', type: 'number', secondary: true },
      { key: 'avg_tone', label: 'Tone', type: 'number', secondary: true },
    ],
  },
  {
    id: 'gpr',
    category: 'politics',
    label: 'Geopolitical Risk Index',
    shortLabel: 'GPR',
    description: 'Caldara-Iacoviello GPR index -- threats and acts of geopolitical risk',
    endpoint: '/api/v1/data/esg/gpr',
    color: '#be123c',
    icon: '<path stroke-linecap="round" stroke-linejoin="round" d="M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z" />',
    geoType: 'none',
    defaultLimit: 200,
    defaultDays: 365,
    columns: [
      { key: 'date', label: 'Date', type: 'date' },
      { key: 'gpr_value', label: 'GPR Index', type: 'number' },
      { key: 'gpr_threats', label: 'Threats', type: 'number' },
      { key: 'gpr_acts', label: 'Acts', type: 'number' },
    ],
  },

  // ── Nature & Disasters ───────────────────────────────────────
  {
    id: 'earthquakes',
    category: 'nature',
    label: 'USGS Earthquakes',
    shortLabel: 'Earthquakes',
    description: 'Recent seismic events worldwide from the US Geological Survey',
    endpoint: '/api/v1/data/earthquakes',
    color: '#f59e0b',
    icon: '<path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25H12" />',
    geoType: 'point',
    latField: 'latitude',
    lonField: 'longitude',
    defaultLimit: 200,
    defaultDays: 30,
    columns: [
      { key: 'event_time', label: 'Time', type: 'date' },
      { key: 'place', label: 'Location', type: 'string' },
      { key: 'magnitude', label: 'Magnitude', type: 'number' },
      { key: 'depth_km', label: 'Depth', type: 'number', unit: 'km' },
      { key: 'alert_level', label: 'Alert', type: 'badge' },
      { key: 'magnitude_type', label: 'Type', type: 'string', secondary: true },
      { key: 'sig', label: 'Significance', type: 'number', secondary: true },
    ],
  },
  {
    id: 'gdacs',
    category: 'nature',
    label: 'GDACS Disasters',
    shortLabel: 'GDACS',
    description: 'Global Disaster Alert and Coordination System -- multi-hazard alerts',
    endpoint: '/api/v1/data/disasters/gdacs',
    color: '#ea580c',
    icon: '<path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126Z" />',
    geoType: 'point',
    latField: 'latitude',
    lonField: 'longitude',
    defaultLimit: 100,
    defaultDays: 90,
    columns: [
      { key: 'start_date', label: 'Start', type: 'date' },
      { key: 'event_type', label: 'Type', type: 'badge' },
      { key: 'event_name', label: 'Event', type: 'string' },
      { key: 'country', label: 'Country', type: 'string' },
      { key: 'severity', label: 'Severity', type: 'number' },
      { key: 'alert_level', label: 'Alert', type: 'badge' },
      { key: 'affected_population', label: 'Affected', type: 'number', secondary: true },
    ],
  },
  {
    id: 'noaa',
    category: 'nature',
    label: 'NOAA Weather Alerts',
    shortLabel: 'NOAA',
    description: 'US National Weather Service active alerts -- severe weather and hazards',
    endpoint: '/api/v1/data/weather/alerts',
    color: '#d97706',
    icon: '<path stroke-linecap="round" stroke-linejoin="round" d="M2.25 15a4.5 4.5 0 0 0 4.5 4.5H18a3.75 3.75 0 0 0 1.332-7.257 3 3 0 0 0-3.758-3.848 5.25 5.25 0 0 0-10.233 2.33A4.502 4.502 0 0 0 2.25 15Z" />',
    geoType: 'none',
    defaultLimit: 100,
    defaultDays: 7,
    columns: [
      { key: 'effective_at', label: 'Effective', type: 'date' },
      { key: 'event_type', label: 'Type', type: 'badge' },
      { key: 'headline', label: 'Headline', type: 'string' },
      { key: 'severity', label: 'Severity', type: 'badge' },
      { key: 'urgency', label: 'Urgency', type: 'badge' },
      { key: 'area_desc', label: 'Area', type: 'string', secondary: true },
      { key: 'expires_at', label: 'Expires', type: 'date', secondary: true },
    ],
  },
  {
    id: 'emdat',
    category: 'nature',
    label: 'EM-DAT Historical Disasters',
    shortLabel: 'EM-DAT',
    description: 'International Disaster Database -- historical natural and technological disasters',
    endpoint: '/api/v1/data/disasters/historical',
    color: '#b45309',
    icon: '<path stroke-linecap="round" stroke-linejoin="round" d="M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25" />',
    geoType: 'country',
    countryField: 'country',
    defaultLimit: 200,
    defaultDays: 0,
    columns: [
      { key: 'start_date', label: 'Start', type: 'date' },
      { key: 'disaster_type', label: 'Type', type: 'badge' },
      { key: 'disaster_subtype', label: 'Subtype', type: 'string' },
      { key: 'country', label: 'Country', type: 'string' },
      { key: 'total_deaths', label: 'Deaths', type: 'number' },
      { key: 'total_affected', label: 'Affected', type: 'number' },
      { key: 'total_damage_usd', label: 'Damage', type: 'number', unit: 'USD' },
      { key: 'region', label: 'Region', type: 'string', secondary: true },
    ],
  },

  // ── Maritime & Fishing ───────────────────────────────────────
  {
    id: 'gfw',
    category: 'maritime',
    label: 'GFW Vessel Events',
    shortLabel: 'GFW',
    description: 'Global Fishing Watch -- encounters, port visits, AIS gaps, loitering, fishing',
    endpoint: '/api/v1/data/maritime/events',
    color: '#06b6d4',
    icon: '<path stroke-linecap="round" stroke-linejoin="round" d="M8.25 21v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21m0 0h4.5V3.545M12.75 21h7.5V10.75M2.25 21h1.5m18 0h-18M2.25 9l4.5-1.636M18.75 3l-1.5.545m0 6.205 3 1m1.5.5-1.5-.5M6.75 7.364V3h-3v18m3-13.636 10.5-3.819" />',
    geoType: 'point',
    latField: 'latitude',
    lonField: 'longitude',
    defaultLimit: 300,
    defaultDays: 90,
    columns: [
      { key: 'start_time', label: 'Start', type: 'date' },
      { key: 'event_type', label: 'Type', type: 'badge' },
      { key: 'vessel_name', label: 'Vessel', type: 'string' },
      { key: 'vessel_flag', label: 'Flag', type: 'string' },
      { key: 'vessel_type', label: 'Vessel Type', type: 'string' },
      { key: 'port_name', label: 'Port', type: 'string', secondary: true },
      { key: 'end_time', label: 'End', type: 'date', secondary: true },
    ],
  },

  // ── Economy & Trade ──────────────────────────────────────────
  {
    id: 'fx',
    category: 'economy',
    label: 'ECB Exchange Rates',
    shortLabel: 'FX Rates',
    description: 'European Central Bank reference exchange rates',
    endpoint: '/api/v1/data/fx/rates',
    color: '#3b82f6',
    icon: '<path stroke-linecap="round" stroke-linejoin="round" d="M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />',
    geoType: 'none',
    defaultLimit: 100,
    defaultDays: 90,
    columns: [
      { key: 'date', label: 'Date', type: 'date' },
      { key: 'currency_from', label: 'From', type: 'string' },
      { key: 'currency_to', label: 'To', type: 'string' },
      { key: 'rate', label: 'Rate', type: 'number' },
      { key: 'frequency', label: 'Freq', type: 'string', secondary: true },
    ],
  },
  {
    id: 'crypto',
    category: 'economy',
    label: 'CoinGecko Crypto Prices',
    shortLabel: 'Crypto',
    description: 'Cryptocurrency market prices, caps, and 24h volume from CoinGecko',
    endpoint: '/api/v1/data/crypto/prices',
    color: '#6366f1',
    icon: '<path stroke-linecap="round" stroke-linejoin="round" d="M20.25 6.375c0 2.278-3.694 4.125-8.25 4.125S3.75 8.653 3.75 6.375m16.5 0c0-2.278-3.694-4.125-8.25-4.125S3.75 4.097 3.75 6.375m16.5 0v11.25c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125V6.375" />',
    geoType: 'none',
    defaultLimit: 50,
    defaultDays: 7,
    columns: [
      { key: 'timestamp', label: 'Time', type: 'date' },
      { key: 'coin_id', label: 'Coin', type: 'string' },
      { key: 'price', label: 'Price', type: 'number', unit: 'USD' },
      { key: 'market_cap', label: 'Market Cap', type: 'number', unit: 'USD' },
      { key: 'volume_24h', label: '24h Volume', type: 'number', unit: 'USD' },
      { key: 'price_change_24h', label: '24h Change', type: 'number', secondary: true },
    ],
  },
  {
    id: 'imf',
    category: 'economy',
    label: 'IMF Economic Indicators',
    shortLabel: 'IMF',
    description: 'IMF World Economic Outlook -- GDP, inflation, unemployment, debt',
    endpoint: '/api/v1/data/economic/imf',
    color: '#2563eb',
    icon: '<path stroke-linecap="round" stroke-linejoin="round" d="M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941" />',
    geoType: 'country',
    countryField: 'country_code',
    defaultLimit: 100,
    defaultDays: 0,
    columns: [
      { key: 'year', label: 'Year', type: 'number' },
      { key: 'indicator_code', label: 'Indicator', type: 'string' },
      { key: 'country_code', label: 'Country', type: 'string' },
      { key: 'value', label: 'Value', type: 'number' },
      { key: 'unit', label: 'Unit', type: 'string', secondary: true },
      { key: 'scale', label: 'Scale', type: 'string', secondary: true },
    ],
  },
  {
    id: 'comtrade',
    category: 'economy',
    label: 'UN Comtrade Flows',
    shortLabel: 'Comtrade',
    description: 'United Nations international merchandise trade statistics',
    endpoint: '/api/v1/data/trade/flows',
    color: '#1d4ed8',
    icon: '<path stroke-linecap="round" stroke-linejoin="round" d="M7.5 21 3 16.5m0 0L7.5 12M3 16.5h13.5m0-13.5L21 7.5m0 0L16.5 12M21 7.5H7.5" />',
    geoType: 'country',
    countryField: 'reporter_code',
    defaultLimit: 100,
    defaultDays: 0,
    columns: [
      { key: 'year', label: 'Year', type: 'number' },
      { key: 'reporter_code', label: 'Reporter', type: 'string' },
      { key: 'partner_code', label: 'Partner', type: 'string' },
      { key: 'trade_flow', label: 'Flow', type: 'badge' },
      { key: 'trade_value', label: 'Value', type: 'number', unit: 'USD' },
      { key: 'commodity_code', label: 'Commodity', type: 'string', secondary: true },
      { key: 'net_weight', label: 'Weight', type: 'number', unit: 'kg', secondary: true },
    ],
  },

  // ── CFTC Positioning ─────────────────────────────────────────
  {
    id: 'cftc_legacy_futures-facts',
    category: 'economy',
    label: 'CFTC Legacy Futures',
    shortLabel: 'COT Futures',
    description: 'Commitment of Traders -- legacy futures-only positioning data',
    endpoint: '/api/v1/cftc/legacy_futures-facts',
    color: '#8b5cf6',
    icon: '<path stroke-linecap="round" stroke-linejoin="round" d="M3.75 3v11.25A2.25 2.25 0 006 16.5h2.25M3.75 3h-1.5m1.5 0h16.5m0 0h1.5m-1.5 0v11.25A2.25 2.25 0 0118 16.5h-2.25m-7.5 0h7.5m-7.5 0l-1 3m8.5-3l1 3m0 0l.5 1.5m-.5-1.5h-9.5m0 0l-.5 1.5"/>',
    geoType: 'none' as GeoType,
    defaultLimit: 50,
    defaultDays: 365,
    columns: [
      { key: 'report_date', label: 'Report Date', type: 'date' as const },
      { key: 'commodity_name', label: 'Commodity', type: 'string' as const },
      { key: 'noncommercial_long', label: 'Non-Comm Long', type: 'number' as const },
      { key: 'noncommercial_short', label: 'Non-Comm Short', type: 'number' as const },
      { key: 'commercial_long', label: 'Comm Long', type: 'number' as const },
      { key: 'commercial_short', label: 'Comm Short', type: 'number' as const },
      { key: 'open_interest', label: 'Open Interest', type: 'number' as const, secondary: true },
    ],
    filters: [
      { key: 'commodity_name', label: 'Commodity', type: 'text' as const },
    ],
  },
  {
    id: 'cftc_legacy_combined-facts',
    category: 'economy',
    label: 'CFTC Legacy Combined',
    shortLabel: 'COT Combined',
    description: 'Commitment of Traders -- legacy combined futures + options',
    endpoint: '/api/v1/cftc/legacy_combined-facts',
    color: '#7c3aed',
    icon: '<path stroke-linecap="round" stroke-linejoin="round" d="M3.75 3v11.25A2.25 2.25 0 006 16.5h2.25M3.75 3h-1.5m1.5 0h16.5m0 0h1.5m-1.5 0v11.25A2.25 2.25 0 0118 16.5h-2.25m-7.5 0h7.5m-7.5 0l-1 3m8.5-3l1 3m0 0l.5 1.5m-.5-1.5h-9.5m0 0l-.5 1.5"/>',
    geoType: 'none' as GeoType,
    defaultLimit: 50,
    defaultDays: 365,
    columns: [
      { key: 'report_date', label: 'Report Date', type: 'date' as const },
      { key: 'commodity_name', label: 'Commodity', type: 'string' as const },
      { key: 'noncommercial_long', label: 'Non-Comm Long', type: 'number' as const },
      { key: 'noncommercial_short', label: 'Non-Comm Short', type: 'number' as const },
      { key: 'commercial_long', label: 'Comm Long', type: 'number' as const },
      { key: 'commercial_short', label: 'Comm Short', type: 'number' as const },
      { key: 'open_interest', label: 'Open Interest', type: 'number' as const, secondary: true },
    ],
    filters: [
      { key: 'commodity_name', label: 'Commodity', type: 'text' as const },
    ],
  },
  {
    id: 'cftc_disaggregated_futures-facts',
    category: 'economy',
    label: 'CFTC Disaggregated Futures',
    shortLabel: 'COT Disagg.',
    description: 'Commitment of Traders -- disaggregated futures positioning',
    endpoint: '/api/v1/cftc/disaggregated_futures-facts',
    color: '#6d28d9',
    icon: '<path stroke-linecap="round" stroke-linejoin="round" d="M3.75 3v11.25A2.25 2.25 0 006 16.5h2.25M3.75 3h-1.5m1.5 0h16.5m0 0h1.5m-1.5 0v11.25A2.25 2.25 0 0118 16.5h-2.25m-7.5 0h7.5m-7.5 0l-1 3m8.5-3l1 3m0 0l.5 1.5m-.5-1.5h-9.5m0 0l-.5 1.5"/>',
    geoType: 'none' as GeoType,
    defaultLimit: 50,
    defaultDays: 365,
    columns: [
      { key: 'report_date', label: 'Report Date', type: 'date' as const },
      { key: 'commodity_name', label: 'Commodity', type: 'string' as const },
      { key: 'noncommercial_long', label: 'Non-Comm Long', type: 'number' as const },
      { key: 'noncommercial_short', label: 'Non-Comm Short', type: 'number' as const },
      { key: 'commercial_long', label: 'Comm Long', type: 'number' as const },
      { key: 'commercial_short', label: 'Comm Short', type: 'number' as const },
      { key: 'open_interest', label: 'Open Interest', type: 'number' as const, secondary: true },
    ],
    filters: [
      { key: 'commodity_name', label: 'Commodity', type: 'text' as const },
    ],
  },

  // ── Environment & ESG ────────────────────────────────────────
  {
    id: 'epa',
    category: 'environment',
    label: 'EPA TRI Facilities',
    shortLabel: 'EPA',
    description: 'US EPA Toxic Release Inventory -- facility locations and NAICS codes',
    endpoint: '/api/v1/data/esg/facilities',
    color: '#22c55e',
    icon: '<path stroke-linecap="round" stroke-linejoin="round" d="M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" /><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z" />',
    geoType: 'point',
    latField: 'latitude',
    lonField: 'longitude',
    defaultLimit: 100,
    defaultDays: 0,
    columns: [
      { key: 'facility_name', label: 'Facility', type: 'string' },
      { key: 'city', label: 'City', type: 'string' },
      { key: 'state', label: 'State', type: 'string' },
      { key: 'zip_code', label: 'ZIP', type: 'string' },
      { key: 'naics_code', label: 'NAICS', type: 'string', secondary: true },
    ],
    filters: [
      { key: 'state', label: 'State', type: 'text' },
      { key: 'parent_company', label: 'Company', type: 'text' },
    ],
  },

  // ══════════════════════════════════════════════════════════════
  // NEW DOMAINS (33 sources)
  // ══════════════════════════════════════════════════════════════

  // ── Health ─────────────────────────────────────────────────────
  {
    id: 'who_indicators',
    category: 'health',
    label: 'WHO Health Indicators',
    shortLabel: 'WHO',
    description: 'World Health Organization country-level health statistics',
    endpoint: '/api/v1/data/health/who-indicators',
    color: '#ec4899',
    icon: '<path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z" />',
    geoType: 'country',
    countryField: 'country',
    defaultLimit: 100,
    defaultDays: 0,
    columns: [
      { key: 'country', label: 'Country', type: 'string' },
      { key: 'indicator_code', label: 'Indicator', type: 'string' },
      { key: 'year', label: 'Year', type: 'number' },
      { key: 'value', label: 'Value', type: 'number' },
      { key: 'sex', label: 'Sex', type: 'badge', secondary: true },
    ],
    filters: [
      { key: 'country', label: 'Country', type: 'text' },
      { key: 'indicator_code', label: 'Indicator', type: 'text' },
      { key: 'sex', label: 'Sex', type: 'select', options: ['Male', 'Female', 'Both sexes'] },
      { key: 'start_year', label: 'From Year', type: 'number' },
      { key: 'end_year', label: 'To Year', type: 'number' },
    ],
  },
  {
    id: 'who_outbreaks',
    category: 'health',
    label: 'WHO Disease Outbreaks',
    shortLabel: 'Outbreaks',
    description: 'Disease outbreak news and alerts from the World Health Organization',
    endpoint: '/api/v1/data/health/outbreaks',
    color: '#db2777',
    icon: '<path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126Z" />',
    geoType: 'country',
    countryField: 'country',
    defaultLimit: 50,
    defaultDays: 365,
    columns: [
      { key: 'country', label: 'Country', type: 'string' },
      { key: 'disease', label: 'Disease', type: 'badge' },
      { key: 'status', label: 'Status', type: 'badge' },
      { key: 'start_date', label: 'Start', type: 'date' },
      { key: 'end_date', label: 'End', type: 'date', secondary: true },
    ],
    filters: [
      { key: 'country', label: 'Country', type: 'text' },
      { key: 'disease', label: 'Disease', type: 'text' },
      { key: 'status', label: 'Status', type: 'text' },
      { key: 'start_date', label: 'From', type: 'date' },
      { key: 'end_date', label: 'To', type: 'date' },
    ],
  },
  {
    id: 'jmp_water',
    category: 'health',
    label: 'JMP Water & Sanitation',
    shortLabel: 'JMP',
    description: 'WHO/UNICEF Joint Monitoring Programme for water supply and sanitation',
    endpoint: '/api/v1/data/health/water-sanitation',
    color: '#f472b6',
    icon: '<path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z" />',
    geoType: 'country',
    countryField: 'country',
    defaultLimit: 100,
    defaultDays: 0,
    columns: [
      { key: 'country', label: 'Country', type: 'string' },
      { key: 'indicator_code', label: 'Indicator', type: 'string' },
      { key: 'year', label: 'Year', type: 'number' },
      { key: 'value', label: 'Value', type: 'number' },
      { key: 'residence_type', label: 'Area', type: 'badge', secondary: true },
    ],
    filters: [
      { key: 'country', label: 'Country', type: 'text' },
      { key: 'indicator_code', label: 'Indicator', type: 'text' },
      { key: 'residence_type', label: 'Area', type: 'select', options: ['urban', 'rural', 'total'] },
      { key: 'start_year', label: 'From Year', type: 'number' },
      { key: 'end_year', label: 'To Year', type: 'number' },
    ],
  },

  // ── Demographics ───────────────────────────────────────────────
  {
    id: 'un_population',
    category: 'demographics',
    label: 'UN Population Estimates',
    shortLabel: 'Population',
    description: 'United Nations World Population Prospects -- historical and projected data',
    endpoint: '/api/v1/data/demographics/population',
    color: '#a855f7',
    icon: '<path stroke-linecap="round" stroke-linejoin="round" d="M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z" />',
    geoType: 'country',
    countryField: 'country',
    defaultLimit: 100,
    defaultDays: 0,
    columns: [
      { key: 'country', label: 'Country', type: 'string' },
      { key: 'year', label: 'Year', type: 'number' },
      { key: 'value', label: 'Population', type: 'number' },
      { key: 'variant', label: 'Variant', type: 'badge' },
      { key: 'sex', label: 'Sex', type: 'string', secondary: true },
      { key: 'country_code', label: 'Code', type: 'string', secondary: true },
    ],
    filters: [
      { key: 'country', label: 'Country', type: 'text' },
      { key: 'country_code', label: 'Country Code', type: 'text' },
      { key: 'variant', label: 'Variant', type: 'select', options: ['Medium', 'High', 'Low'] },
      { key: 'start_year', label: 'From Year', type: 'number' },
      { key: 'end_year', label: 'To Year', type: 'number' },
    ],
  },
  {
    id: 'unhcr_refugees',
    category: 'demographics',
    label: 'UNHCR Refugee Statistics',
    shortLabel: 'Refugees',
    description: 'UNHCR refugee, asylum-seeker, and displaced population data',
    endpoint: '/api/v1/data/demographics/refugees',
    color: '#9333ea',
    icon: '<path stroke-linecap="round" stroke-linejoin="round" d="M8.25 21v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21m0 0h4.5V3.545M12.75 21h7.5V10.75M2.25 21h1.5m18 0h-18M2.25 9l4.5-1.636M18.75 3l-1.5.545m0 6.205 3 1m1.5.5-1.5-.5M6.75 7.364V3h-3v18m3-13.636 10.5-3.819" />',
    geoType: 'country',
    countryField: 'country_origin',
    defaultLimit: 100,
    defaultDays: 0,
    columns: [
      { key: 'country_origin', label: 'Origin', type: 'string' },
      { key: 'country_asylum', label: 'Asylum', type: 'string' },
      { key: 'year', label: 'Year', type: 'number' },
      { key: 'refugees', label: 'Refugees', type: 'number' },
      { key: 'asylum_seekers', label: 'Asylum Seekers', type: 'number', secondary: true },
      { key: 'idps', label: 'IDPs', type: 'number', secondary: true },
    ],
    filters: [
      { key: 'country_origin', label: 'Origin', type: 'text' },
      { key: 'country_asylum', label: 'Asylum Country', type: 'text' },
      { key: 'start_year', label: 'From Year', type: 'number' },
      { key: 'end_year', label: 'To Year', type: 'number' },
    ],
  },
  {
    id: 'un_urbanization',
    category: 'demographics',
    label: 'UN Urbanization Prospects',
    shortLabel: 'Urban',
    description: 'UN-Habitat urbanization indicators and city growth data',
    endpoint: '/api/v1/data/demographics/urbanization',
    color: '#c084fc',
    icon: '<path stroke-linecap="round" stroke-linejoin="round" d="M2.25 21h19.5m-18-18v18m10.5-18v18m6-13.5V21M6.75 6.75h.75m-.75 3h.75m-.75 3h.75m3-6h.75m-.75 3h.75m-.75 3h.75M6.75 21v-3.375c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21" />',
    geoType: 'country',
    countryField: 'country',
    defaultLimit: 100,
    defaultDays: 0,
    columns: [
      { key: 'country', label: 'Country', type: 'string' },
      { key: 'indicator', label: 'Indicator', type: 'string' },
      { key: 'year', label: 'Year', type: 'number' },
      { key: 'value', label: 'Value', type: 'number' },
    ],
    filters: [
      { key: 'country', label: 'Country', type: 'text' },
      { key: 'indicator', label: 'Indicator', type: 'text' },
      { key: 'start_year', label: 'From Year', type: 'number' },
      { key: 'end_year', label: 'To Year', type: 'number' },
    ],
  },
  {
    id: 'iom_migration',
    category: 'demographics',
    label: 'IOM Migration Data',
    shortLabel: 'Migration',
    description: 'International Organization for Migration flow and stock data',
    endpoint: '/api/v1/data/demographics/migration',
    color: '#7c3aed',
    icon: '<path stroke-linecap="round" stroke-linejoin="round" d="M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5" />',
    geoType: 'country',
    countryField: 'country',
    defaultLimit: 100,
    defaultDays: 0,
    columns: [
      { key: 'country', label: 'Country', type: 'string' },
      { key: 'migration_type', label: 'Type', type: 'badge' },
      { key: 'year', label: 'Year', type: 'number' },
      { key: 'value', label: 'Value', type: 'number' },
    ],
    filters: [
      { key: 'country', label: 'Country', type: 'text' },
      { key: 'migration_type', label: 'Type', type: 'text' },
      { key: 'start_year', label: 'From Year', type: 'number' },
      { key: 'end_year', label: 'To Year', type: 'number' },
    ],
  },

  // ── Food & Agriculture ─────────────────────────────────────────
  {
    id: 'fao_indicators',
    category: 'food',
    label: 'FAO Agricultural Indicators',
    shortLabel: 'FAO',
    description: 'FAO production, area, and yield statistics for crops and livestock',
    endpoint: '/api/v1/data/food/fao-indicators',
    color: '#84cc16',
    icon: '<path stroke-linecap="round" stroke-linejoin="round" d="M12 3v17.25m0 0c-1.472 0-2.882.265-4.185.75M12 20.25c1.472 0 2.882.265 4.185.75" />',
    geoType: 'country',
    countryField: 'country',
    defaultLimit: 100,
    defaultDays: 0,
    columns: [
      { key: 'country', label: 'Country', type: 'string' },
      { key: 'indicator_code', label: 'Indicator', type: 'string' },
      { key: 'element', label: 'Element', type: 'badge' },
      { key: 'year', label: 'Year', type: 'number' },
      { key: 'value', label: 'Value', type: 'number' },
      { key: 'unit', label: 'Unit', type: 'string', secondary: true },
    ],
    filters: [
      { key: 'country', label: 'Country', type: 'text' },
      { key: 'indicator_code', label: 'Indicator', type: 'text' },
      { key: 'element', label: 'Element', type: 'text' },
      { key: 'start_year', label: 'From Year', type: 'number' },
      { key: 'end_year', label: 'To Year', type: 'number' },
    ],
  },
  {
    id: 'fao_price_index',
    category: 'food',
    label: 'FAO Food Price Index',
    shortLabel: 'Price Index',
    description: 'FAO monthly food price indices by commodity group',
    endpoint: '/api/v1/data/food/price-index',
    color: '#65a30d',
    icon: '<path stroke-linecap="round" stroke-linejoin="round" d="M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941" />',
    geoType: 'none',
    defaultLimit: 100,
    defaultDays: 365,
    columns: [
      { key: 'date', label: 'Date', type: 'date' },
      { key: 'category', label: 'Category', type: 'badge' },
      { key: 'value', label: 'Index', type: 'number' },
    ],
    filters: [
      { key: 'category', label: 'Category', type: 'text' },
      { key: 'start_date', label: 'From', type: 'date' },
      { key: 'end_date', label: 'To', type: 'date' },
    ],
  },
  {
    id: 'usda_wasde',
    category: 'food',
    label: 'USDA WASDE',
    shortLabel: 'WASDE',
    description: 'World Agricultural Supply and Demand Estimates from USDA',
    endpoint: '/api/v1/data/food/wasde',
    color: '#4d7c0f',
    icon: '<path stroke-linecap="round" stroke-linejoin="round" d="M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z" />',
    geoType: 'none',
    defaultLimit: 100,
    defaultDays: 365,
    columns: [
      { key: 'commodity', label: 'Commodity', type: 'string' },
      { key: 'region', label: 'Region', type: 'string' },
      { key: 'attribute', label: 'Attribute', type: 'badge' },
      { key: 'value', label: 'Value', type: 'number' },
      { key: 'date', label: 'Date', type: 'date' },
      { key: 'unit', label: 'Unit', type: 'string', secondary: true },
    ],
    filters: [
      { key: 'commodity', label: 'Commodity', type: 'text' },
      { key: 'region', label: 'Region', type: 'text' },
      { key: 'attribute', label: 'Attribute', type: 'text' },
      { key: 'start_date', label: 'From', type: 'date' },
      { key: 'end_date', label: 'To', type: 'date' },
    ],
  },
  {
    id: 'fao_aquastat',
    category: 'food',
    label: 'FAO Aquastat',
    shortLabel: 'Aquastat',
    description: 'FAO water resources and irrigation statistics by country',
    endpoint: '/api/v1/data/food/water-resources',
    color: '#a3e635',
    icon: '<path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z" />',
    geoType: 'country',
    countryField: 'country',
    defaultLimit: 100,
    defaultDays: 0,
    columns: [
      { key: 'country', label: 'Country', type: 'string' },
      { key: 'indicator', label: 'Indicator', type: 'string' },
      { key: 'year', label: 'Year', type: 'number' },
      { key: 'value', label: 'Value', type: 'number' },
    ],
    filters: [
      { key: 'country', label: 'Country', type: 'text' },
      { key: 'indicator', label: 'Indicator', type: 'text' },
      { key: 'start_year', label: 'From Year', type: 'number' },
      { key: 'end_year', label: 'To Year', type: 'number' },
    ],
  },
  {
    id: 'wfp_hunger',
    category: 'food',
    label: 'WFP Hunger Map',
    shortLabel: 'Hunger',
    description: 'World Food Programme food security and hunger indicators',
    endpoint: '/api/v1/data/food/hunger',
    color: '#bef264',
    icon: '<path stroke-linecap="round" stroke-linejoin="round" d="M12 8.25v-1.5m0 1.5c-1.355 0-2.697.056-4.024.166C6.845 8.51 6 9.473 6 10.608v2.513m6-4.871c1.355 0 2.697.056 4.024.166C17.155 8.51 18 9.473 18 10.608v2.513M15 8.25v-1.5m-6 1.5v-1.5m12 9.75-1.5.75a3.354 3.354 0 0 1-3 0 3.354 3.354 0 0 0-3 0 3.354 3.354 0 0 1-3 0 3.354 3.354 0 0 0-3 0 3.354 3.354 0 0 1-3 0L3 16.5m15-3.379a48.474 48.474 0 0 0-6-.371c-2.032 0-4.034.126-6 .371m12 0c.39.049.777.102 1.163.16 1.07.16 1.837 1.094 1.837 2.175v5.169c0 .621-.504 1.125-1.125 1.125H4.125A1.125 1.125 0 0 1 3 20.625v-5.17c0-1.08.768-2.014 1.837-2.174A47.78 47.78 0 0 1 6 13.12" />',
    geoType: 'country',
    countryField: 'country',
    defaultLimit: 100,
    defaultDays: 365,
    columns: [
      { key: 'country', label: 'Country', type: 'string' },
      { key: 'indicator', label: 'Indicator', type: 'string' },
      { key: 'date', label: 'Date', type: 'date' },
      { key: 'value', label: 'Value', type: 'number' },
    ],
    filters: [
      { key: 'country', label: 'Country', type: 'text' },
      { key: 'indicator', label: 'Indicator', type: 'text' },
      { key: 'start_date', label: 'From', type: 'date' },
      { key: 'end_date', label: 'To', type: 'date' },
    ],
  },

  // ── Development ────────────────────────────────────────────────
  {
    id: 'wb_poverty',
    category: 'development',
    label: 'World Bank Poverty',
    shortLabel: 'Poverty',
    description: 'World Bank poverty headcount ratios and inequality metrics',
    endpoint: '/api/v1/data/development/poverty',
    color: '#14b8a6',
    icon: '<path stroke-linecap="round" stroke-linejoin="round" d="M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />',
    geoType: 'country',
    countryField: 'country_code',
    defaultLimit: 100,
    defaultDays: 0,
    columns: [
      { key: 'country_code', label: 'Country', type: 'string' },
      { key: 'indicator_code', label: 'Indicator', type: 'string' },
      { key: 'year', label: 'Year', type: 'number' },
      { key: 'value', label: 'Value', type: 'number' },
    ],
    filters: [
      { key: 'country_code', label: 'Country Code', type: 'text' },
      { key: 'indicator_code', label: 'Indicator', type: 'text' },
      { key: 'start_year', label: 'From Year', type: 'number' },
      { key: 'end_year', label: 'To Year', type: 'number' },
    ],
  },
  {
    id: 'wb_governance',
    category: 'development',
    label: 'World Bank Governance',
    shortLabel: 'Governance',
    description: 'Worldwide Governance Indicators -- rule of law, corruption, stability',
    endpoint: '/api/v1/data/development/governance',
    color: '#0d9488',
    icon: '<path stroke-linecap="round" stroke-linejoin="round" d="M12 21v-8.25M15.75 21v-8.25M8.25 21v-8.25M3 9l9-6 9 6m-1.5 12V10.332A48.36 48.36 0 0 0 12 9.75c-2.551 0-5.056.2-7.5.582V21M3 21h18M12 6.75h.008v.008H12V6.75Z" />',
    geoType: 'country',
    countryField: 'country_code',
    defaultLimit: 100,
    defaultDays: 0,
    columns: [
      { key: 'country_code', label: 'Country', type: 'string' },
      { key: 'indicator_code', label: 'Indicator', type: 'string' },
      { key: 'year', label: 'Year', type: 'number' },
      { key: 'value', label: 'Value', type: 'number' },
    ],
    filters: [
      { key: 'country_code', label: 'Country Code', type: 'text' },
      { key: 'indicator_code', label: 'Indicator', type: 'text' },
      { key: 'start_year', label: 'From Year', type: 'number' },
      { key: 'end_year', label: 'To Year', type: 'number' },
    ],
  },
  {
    id: 'wb_education',
    category: 'development',
    label: 'World Bank Education',
    shortLabel: 'Education',
    description: 'Education statistics -- enrollment, literacy, expenditure',
    endpoint: '/api/v1/data/development/education',
    color: '#2dd4bf',
    icon: '<path stroke-linecap="round" stroke-linejoin="round" d="M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342" />',
    geoType: 'country',
    countryField: 'country_code',
    defaultLimit: 100,
    defaultDays: 0,
    columns: [
      { key: 'country_code', label: 'Country', type: 'string' },
      { key: 'indicator_code', label: 'Indicator', type: 'string' },
      { key: 'year', label: 'Year', type: 'number' },
      { key: 'value', label: 'Value', type: 'number' },
    ],
    filters: [
      { key: 'country_code', label: 'Country Code', type: 'text' },
      { key: 'indicator_code', label: 'Indicator', type: 'text' },
      { key: 'start_year', label: 'From Year', type: 'number' },
      { key: 'end_year', label: 'To Year', type: 'number' },
    ],
  },
  {
    id: 'undp_hdi',
    category: 'development',
    label: 'UNDP Human Development Index',
    shortLabel: 'HDI',
    description: 'Human Development Index scores and components by country',
    endpoint: '/api/v1/data/development/hdi',
    color: '#5eead4',
    icon: '<path stroke-linecap="round" stroke-linejoin="round" d="M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z" />',
    geoType: 'country',
    countryField: 'country_code',
    defaultLimit: 100,
    defaultDays: 0,
    columns: [
      { key: 'country_code', label: 'Country', type: 'string' },
      { key: 'year', label: 'Year', type: 'number' },
      { key: 'hdi', label: 'HDI', type: 'number' },
      { key: 'life_expectancy', label: 'Life Exp.', type: 'number', secondary: true },
      { key: 'mean_schooling', label: 'Schooling', type: 'number', secondary: true },
      { key: 'gni_per_capita', label: 'GNI/cap', type: 'number', secondary: true },
    ],
    filters: [
      { key: 'country_code', label: 'Country Code', type: 'text' },
      { key: 'start_year', label: 'From Year', type: 'number' },
      { key: 'end_year', label: 'To Year', type: 'number' },
    ],
  },
  {
    id: 'undp_mpi',
    category: 'development',
    label: 'UNDP Multidimensional Poverty',
    shortLabel: 'MPI',
    description: 'Multidimensional Poverty Index -- health, education, living standards',
    endpoint: '/api/v1/data/development/mpi',
    color: '#99f6e4',
    icon: '<path stroke-linecap="round" stroke-linejoin="round" d="M10.5 6a7.5 7.5 0 1 0 7.5 7.5h-7.5V6Z" /><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 10.5H21A7.5 7.5 0 0 0 13.5 3v7.5Z" />',
    geoType: 'country',
    countryField: 'country_code',
    defaultLimit: 100,
    defaultDays: 0,
    columns: [
      { key: 'country_code', label: 'Country', type: 'string' },
      { key: 'year', label: 'Year', type: 'number' },
      { key: 'mpi', label: 'MPI', type: 'number' },
      { key: 'headcount_ratio', label: 'Headcount %', type: 'number', secondary: true },
      { key: 'intensity', label: 'Intensity', type: 'number', secondary: true },
    ],
    filters: [
      { key: 'country_code', label: 'Country Code', type: 'text' },
      { key: 'start_year', label: 'From Year', type: 'number' },
      { key: 'end_year', label: 'To Year', type: 'number' },
    ],
  },
  {
    id: 'unesco_indicators',
    category: 'development',
    label: 'UNESCO Education Statistics',
    shortLabel: 'UNESCO',
    description: 'UNESCO Institute for Statistics education indicators',
    endpoint: '/api/v1/data/development/unesco',
    color: '#0f766e',
    icon: '<path stroke-linecap="round" stroke-linejoin="round" d="M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25" />',
    geoType: 'country',
    countryField: 'country_code',
    defaultLimit: 100,
    defaultDays: 0,
    columns: [
      { key: 'country_code', label: 'Country', type: 'string' },
      { key: 'indicator_code', label: 'Indicator', type: 'string' },
      { key: 'education_level', label: 'Level', type: 'badge' },
      { key: 'year', label: 'Year', type: 'number' },
      { key: 'value', label: 'Value', type: 'number' },
    ],
    filters: [
      { key: 'country_code', label: 'Country Code', type: 'text' },
      { key: 'indicator_code', label: 'Indicator', type: 'text' },
      { key: 'education_level', label: 'Level', type: 'text' },
      { key: 'start_year', label: 'From Year', type: 'number' },
      { key: 'end_year', label: 'To Year', type: 'number' },
    ],
  },
  {
    id: 'ilo_labour',
    category: 'development',
    label: 'ILO Labour Statistics',
    shortLabel: 'Labour',
    description: 'International Labour Organization employment and wage data',
    endpoint: '/api/v1/data/development/labour',
    color: '#115e59',
    icon: '<path stroke-linecap="round" stroke-linejoin="round" d="M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 0 0 .75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 0 0-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0 1 12 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 0 1-.673-.38m0 0A2.18 2.18 0 0 1 3 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 0 1 3.413-.387m7.5 0V5.25A2.25 2.25 0 0 0 13.5 3h-3a2.25 2.25 0 0 0-2.25 2.25v.894m7.5 0a48.667 48.667 0 0 0-7.5 0" />',
    geoType: 'country',
    countryField: 'country_code',
    defaultLimit: 100,
    defaultDays: 0,
    columns: [
      { key: 'country_code', label: 'Country', type: 'string' },
      { key: 'indicator_code', label: 'Indicator', type: 'string' },
      { key: 'sex', label: 'Sex', type: 'badge' },
      { key: 'year', label: 'Year', type: 'number' },
      { key: 'value', label: 'Value', type: 'number' },
    ],
    filters: [
      { key: 'country_code', label: 'Country Code', type: 'text' },
      { key: 'indicator_code', label: 'Indicator', type: 'text' },
      { key: 'sex', label: 'Sex', type: 'text' },
      { key: 'start_year', label: 'From Year', type: 'number' },
      { key: 'end_year', label: 'To Year', type: 'number' },
    ],
  },
  {
    id: 'itu_telecom',
    category: 'development',
    label: 'ITU Telecom Indicators',
    shortLabel: 'Telecom',
    description: 'International Telecommunication Union ICT and broadband statistics',
    endpoint: '/api/v1/data/development/telecom',
    color: '#134e4a',
    icon: '<path stroke-linecap="round" stroke-linejoin="round" d="M8.288 15.038a5.25 5.25 0 0 1 7.424 0M5.106 11.856c3.807-3.808 9.98-3.808 13.788 0M1.924 8.674c5.565-5.565 14.587-5.565 20.152 0M12.53 18.22l-.53.53-.53-.53a.75.75 0 0 1 1.06 0Z" />',
    geoType: 'country',
    countryField: 'country_code',
    defaultLimit: 100,
    defaultDays: 0,
    columns: [
      { key: 'country_code', label: 'Country', type: 'string' },
      { key: 'indicator_code', label: 'Indicator', type: 'string' },
      { key: 'year', label: 'Year', type: 'number' },
      { key: 'value', label: 'Value', type: 'number' },
    ],
    filters: [
      { key: 'country_code', label: 'Country Code', type: 'text' },
      { key: 'indicator_code', label: 'Indicator', type: 'text' },
      { key: 'start_year', label: 'From Year', type: 'number' },
      { key: 'end_year', label: 'To Year', type: 'number' },
    ],
  },

  // ── Climate ────────────────────────────────────────────────────
  {
    id: 'nasa_temperature',
    category: 'climate',
    label: 'NASA Temperature Anomaly',
    shortLabel: 'Temperature',
    description: 'NASA GISS global surface temperature anomaly data',
    endpoint: '/api/v1/data/climate/temperature',
    color: '#0ea5e9',
    icon: '<path stroke-linecap="round" stroke-linejoin="round" d="M15.362 5.214A8.252 8.252 0 0 1 12 21 8.25 8.25 0 0 1 6.038 7.048 8.287 8.287 0 0 0 9 9.602a8.983 8.983 0 0 1 3.361-6.867 8.21 8.21 0 0 0 3 2.48Z" />',
    geoType: 'none',
    defaultLimit: 100,
    defaultDays: 365,
    columns: [
      { key: 'date', label: 'Date', type: 'date' },
      { key: 'station', label: 'Station', type: 'string' },
      { key: 'anomaly', label: 'Anomaly', type: 'number', unit: '\u00B0C' },
    ],
    filters: [
      { key: 'station', label: 'Station', type: 'text' },
      { key: 'start_date', label: 'From', type: 'date' },
      { key: 'end_date', label: 'To', type: 'date' },
    ],
  },
  {
    id: 'noaa_greenhouse',
    category: 'climate',
    label: 'NOAA Greenhouse Gas',
    shortLabel: 'GHG',
    description: 'NOAA Global Monitoring Lab greenhouse gas concentrations',
    endpoint: '/api/v1/data/climate/greenhouse-gas',
    color: '#0284c7',
    icon: '<path stroke-linecap="round" stroke-linejoin="round" d="M2.25 15a4.5 4.5 0 0 0 4.5 4.5H18a3.75 3.75 0 0 0 1.332-7.257 3 3 0 0 0-3.758-3.848 5.25 5.25 0 0 0-10.233 2.33A4.502 4.502 0 0 0 2.25 15Z" />',
    geoType: 'none',
    defaultLimit: 100,
    defaultDays: 365,
    columns: [
      { key: 'date', label: 'Date', type: 'date' },
      { key: 'gas_type', label: 'Gas', type: 'badge' },
      { key: 'value', label: 'Concentration', type: 'number' },
      { key: 'station', label: 'Station', type: 'string', secondary: true },
    ],
    filters: [
      { key: 'gas_type', label: 'Gas', type: 'select', options: ['CO2', 'CH4', 'N2O'] },
      { key: 'station', label: 'Station', type: 'text' },
      { key: 'start_date', label: 'From', type: 'date' },
      { key: 'end_date', label: 'To', type: 'date' },
    ],
  },
  {
    id: 'coral_reef',
    category: 'climate',
    label: 'NOAA Coral Reef Watch',
    shortLabel: 'Coral',
    description: 'Coral bleaching heat stress monitoring and alerts',
    endpoint: '/api/v1/data/climate/coral-reef',
    color: '#38bdf8',
    icon: '<path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z" />',
    geoType: 'point',
    latField: 'latitude',
    lonField: 'longitude',
    defaultLimit: 100,
    defaultDays: 90,
    columns: [
      { key: 'date', label: 'Date', type: 'date' },
      { key: 'region', label: 'Region', type: 'string' },
      { key: 'alert_level', label: 'Alert', type: 'badge' },
      { key: 'hotspot', label: 'Hotspot', type: 'number' },
      { key: 'dhw', label: 'Degree Heating Weeks', type: 'number', secondary: true },
    ],
    filters: [
      { key: 'alert_level', label: 'Alert Level', type: 'text' },
      { key: 'region', label: 'Region', type: 'text' },
      { key: 'start_date', label: 'From', type: 'date' },
      { key: 'end_date', label: 'To', type: 'date' },
    ],
  },
  {
    id: 'sea_level',
    category: 'climate',
    label: 'Satellite Sea Level',
    shortLabel: 'Sea Level',
    description: 'Satellite altimetry global mean sea level measurements',
    endpoint: '/api/v1/data/climate/sea-level',
    color: '#0369a1',
    icon: '<path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25H12" />',
    geoType: 'none',
    defaultLimit: 100,
    defaultDays: 365,
    columns: [
      { key: 'date', label: 'Date', type: 'date' },
      { key: 'gmsl_mm', label: 'GMSL', type: 'number', unit: 'mm' },
      { key: 'source_satellite', label: 'Satellite', type: 'string', secondary: true },
    ],
    filters: [
      { key: 'source_satellite', label: 'Satellite', type: 'text' },
      { key: 'start_date', label: 'From', type: 'date' },
      { key: 'end_date', label: 'To', type: 'date' },
    ],
  },
  {
    id: 'sea_ice',
    category: 'climate',
    label: 'Sea Ice Extent',
    shortLabel: 'Sea Ice',
    description: 'NSIDC Arctic and Antarctic sea ice extent time series',
    endpoint: '/api/v1/data/climate/sea-ice',
    color: '#7dd3fc',
    icon: '<path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z" />',
    geoType: 'none',
    defaultLimit: 100,
    defaultDays: 365,
    columns: [
      { key: 'date', label: 'Date', type: 'date' },
      { key: 'hemisphere', label: 'Hemisphere', type: 'badge' },
      { key: 'extent_km2', label: 'Extent', type: 'number', unit: 'km\u00B2' },
    ],
    filters: [
      { key: 'hemisphere', label: 'Hemisphere', type: 'select', options: ['north', 'south'] },
      { key: 'start_date', label: 'From', type: 'date' },
      { key: 'end_date', label: 'To', type: 'date' },
    ],
  },
  {
    id: 'era5_reanalysis',
    category: 'climate',
    label: 'ERA5 Climate Reanalysis',
    shortLabel: 'ERA5',
    description: 'Copernicus ERA5 monthly reanalysis climate variables',
    endpoint: '/api/v1/data/climate/reanalysis',
    color: '#075985',
    icon: '<path stroke-linecap="round" stroke-linejoin="round" d="M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z" />',
    geoType: 'none',
    defaultLimit: 100,
    defaultDays: 365,
    columns: [
      { key: 'date', label: 'Date', type: 'date' },
      { key: 'variable', label: 'Variable', type: 'string' },
      { key: 'value', label: 'Value', type: 'number' },
    ],
    filters: [
      { key: 'variable', label: 'Variable', type: 'text' },
      { key: 'start_date', label: 'From', type: 'date' },
      { key: 'end_date', label: 'To', type: 'date' },
    ],
  },
  {
    id: 'nighttime_lights',
    category: 'climate',
    label: 'Nighttime Light Emissions',
    shortLabel: 'Night Lights',
    description: 'VIIRS nighttime light radiance as an economic activity proxy',
    endpoint: '/api/v1/data/climate/nighttime-lights',
    color: '#bae6fd',
    icon: '<path stroke-linecap="round" stroke-linejoin="round" d="M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18" />',
    geoType: 'country',
    countryField: 'country',
    defaultLimit: 100,
    defaultDays: 365,
    columns: [
      { key: 'country', label: 'Country', type: 'string' },
      { key: 'region', label: 'Region', type: 'string' },
      { key: 'date', label: 'Date', type: 'date' },
      { key: 'radiance', label: 'Radiance', type: 'number' },
    ],
    filters: [
      { key: 'country', label: 'Country', type: 'text' },
      { key: 'region', label: 'Region', type: 'text' },
      { key: 'start_date', label: 'From', type: 'date' },
      { key: 'end_date', label: 'To', type: 'date' },
    ],
  },

  // ── Biodiversity ───────────────────────────────────────────────
  {
    id: 'gbif_occurrences',
    category: 'biodiversity',
    label: 'GBIF Species Occurrences',
    shortLabel: 'Occurrences',
    description: 'Global Biodiversity Information Facility occurrence records',
    endpoint: '/api/v1/data/biodiversity/occurrences',
    color: '#10b981',
    icon: '<path stroke-linecap="round" stroke-linejoin="round" d="M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" /><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z" />',
    geoType: 'point',
    latField: 'decimal_latitude',
    lonField: 'decimal_longitude',
    defaultLimit: 50,
    defaultDays: 365,
    columns: [
      { key: 'scientific_name', label: 'Species', type: 'string' },
      { key: 'country', label: 'Country', type: 'string' },
      { key: 'event_date', label: 'Date', type: 'date' },
      { key: 'basis_of_record', label: 'Basis', type: 'badge' },
      { key: 'decimal_latitude', label: 'Lat', type: 'number', secondary: true },
      { key: 'decimal_longitude', label: 'Lon', type: 'number', secondary: true },
    ],
    filters: [
      { key: 'species', label: 'Species', type: 'text' },
      { key: 'country', label: 'Country', type: 'text' },
      { key: 'basis_of_record', label: 'Record Basis', type: 'text' },
      { key: 'start_date', label: 'From', type: 'date' },
      { key: 'end_date', label: 'To', type: 'date' },
    ],
  },
  {
    id: 'gbif_species_counts',
    category: 'biodiversity',
    label: 'GBIF Species Counts',
    shortLabel: 'Species',
    description: 'Aggregated species observation counts by country and taxonomy',
    endpoint: '/api/v1/data/biodiversity/species-counts',
    color: '#059669',
    icon: '<path stroke-linecap="round" stroke-linejoin="round" d="M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z" />',
    geoType: 'country',
    countryField: 'country',
    defaultLimit: 100,
    defaultDays: 0,
    columns: [
      { key: 'country', label: 'Country', type: 'string' },
      { key: 'kingdom', label: 'Kingdom', type: 'badge' },
      { key: 'scientific_name', label: 'Species', type: 'string' },
      { key: 'observation_count', label: 'Count', type: 'number' },
      { key: 'year', label: 'Year', type: 'number', secondary: true },
    ],
    filters: [
      { key: 'country', label: 'Country', type: 'text' },
      { key: 'kingdom', label: 'Kingdom', type: 'text' },
      { key: 'scientific_name', label: 'Species', type: 'text' },
      { key: 'start_year', label: 'From Year', type: 'number' },
      { key: 'end_year', label: 'To Year', type: 'number' },
    ],
  },
  {
    id: 'iucn_red_list',
    category: 'biodiversity',
    label: 'IUCN Red List',
    shortLabel: 'Red List',
    description: 'IUCN threatened species assessments and conservation status',
    endpoint: '/api/v1/data/biodiversity/red-list',
    color: '#047857',
    icon: '<path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126Z" />',
    geoType: 'none',
    defaultLimit: 50,
    defaultDays: 0,
    columns: [
      { key: 'scientific_name', label: 'Species', type: 'string' },
      { key: 'common_name', label: 'Common Name', type: 'string' },
      { key: 'category', label: 'Status', type: 'badge' },
      { key: 'population_trend', label: 'Trend', type: 'badge' },
      { key: 'kingdom', label: 'Kingdom', type: 'string', secondary: true },
    ],
    filters: [
      { key: 'category', label: 'Status', type: 'select', options: ['CR', 'EN', 'VU', 'NT', 'LC'] },
      { key: 'population_trend', label: 'Trend', type: 'select', options: ['Decreasing', 'Stable', 'Increasing'] },
      { key: 'common_name', label: 'Common Name', type: 'text' },
      { key: 'scientific_name', label: 'Scientific Name', type: 'text' },
    ],
  },

  // ── Sanctions ──────────────────────────────────────────────────
  {
    id: 'ofac_sdn',
    category: 'sanctions',
    label: 'US OFAC SDN List',
    shortLabel: 'OFAC',
    description: 'US Treasury OFAC Specially Designated Nationals and Blocked Persons',
    endpoint: '/api/v1/data/governance/sanctions/us',
    color: '#f43f5e',
    icon: '<path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m0-10.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.75c0 5.592 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.57-.598-3.75h-.152c-3.196 0-6.1-1.25-8.25-3.286Zm0 13.036h.008v.008H12v-.008Z" />',
    geoType: 'country',
    countryField: 'country',
    defaultLimit: 50,
    defaultDays: 0,
    columns: [
      { key: 'entity_name', label: 'Entity', type: 'string' },
      { key: 'entity_type', label: 'Type', type: 'badge' },
      { key: 'program', label: 'Program', type: 'string' },
      { key: 'country', label: 'Country', type: 'string' },
    ],
    filters: [
      { key: 'entity_name', label: 'Entity Name', type: 'text' },
      { key: 'entity_type', label: 'Type', type: 'select', options: ['Individual', 'Entity', 'Vessel', 'Aircraft'] },
      { key: 'program', label: 'Program', type: 'text' },
      { key: 'country', label: 'Country', type: 'text' },
    ],
  },
  {
    id: 'eu_sanctions',
    category: 'sanctions',
    label: 'EU Sanctions List',
    shortLabel: 'EU',
    description: 'European Union consolidated financial sanctions list',
    endpoint: '/api/v1/data/governance/sanctions/eu',
    color: '#e11d48',
    icon: '<path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m0-10.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.75c0 5.592 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.57-.598-3.75h-.152c-3.196 0-6.1-1.25-8.25-3.286Zm0 13.036h.008v.008H12v-.008Z" />',
    geoType: 'country',
    countryField: 'country',
    defaultLimit: 50,
    defaultDays: 0,
    columns: [
      { key: 'entity_name', label: 'Entity', type: 'string' },
      { key: 'entity_type', label: 'Type', type: 'badge' },
      { key: 'regime', label: 'Regime', type: 'string' },
      { key: 'country', label: 'Country', type: 'string' },
    ],
    filters: [
      { key: 'entity_name', label: 'Entity Name', type: 'text' },
      { key: 'entity_type', label: 'Type', type: 'text' },
      { key: 'regime', label: 'Regime', type: 'text' },
      { key: 'country', label: 'Country', type: 'text' },
    ],
  },
  {
    id: 'un_sanctions',
    category: 'sanctions',
    label: 'UN Sanctions List',
    shortLabel: 'UN',
    description: 'United Nations Security Council consolidated sanctions list',
    endpoint: '/api/v1/data/governance/sanctions/un',
    color: '#be123c',
    icon: '<path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m0-10.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.75c0 5.592 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.57-.598-3.75h-.152c-3.196 0-6.1-1.25-8.25-3.286Zm0 13.036h.008v.008H12v-.008Z" />',
    geoType: 'country',
    countryField: 'country',
    defaultLimit: 50,
    defaultDays: 0,
    columns: [
      { key: 'entity_name', label: 'Entity', type: 'string' },
      { key: 'entity_type', label: 'Type', type: 'badge' },
      { key: 'un_list', label: 'List', type: 'string' },
      { key: 'country', label: 'Country', type: 'string' },
    ],
    filters: [
      { key: 'entity_name', label: 'Entity Name', type: 'text' },
      { key: 'entity_type', label: 'Type', type: 'text' },
      { key: 'un_list', label: 'UN List', type: 'text' },
      { key: 'country', label: 'Country', type: 'text' },
    ],
  },
];

export const SOURCE_MAP = new Map<string, SourceDef>(SOURCES.map((s) => [s.id, s]));

// ─── Helpers ────────────────────────────────────────────────────

/** Get all sources for a category. */
export function sourcesForCategory(cat: CategoryId): SourceDef[] {
  return SOURCES.filter((s) => s.category === cat);
}

/** Get all sources that can be plotted on a map (point or centroid). */
export function mappableSources(): SourceDef[] {
  return SOURCES.filter((s) => s.geoType !== 'none');
}

/** Get only the primary (non-secondary) columns for compact displays. */
export function primaryColumns(src: SourceDef): ColumnDef[] {
  return src.columns.filter((c) => !c.secondary);
}
